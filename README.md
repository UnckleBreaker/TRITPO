## Наблюдатель
 ##### Суть паттерна
Наблюдатель — это поведенческий паттерн проектирования, который создаёт механизм подписки, позволяющий одним объектам следить и реагировать на события, происходящие в других объектах.
![](https://refactoring.guru/images/patterns/diagrams/observer/structure.png)
###### Издатель владеет внутренним состоянием, изменение которого интересно отслеживать подписчикам. Издатель содержит механизм подписки: список подписчиков и методы подписки/отписки.
###### Когда внутреннее состояние издателя меняется, он оповещает своих подписчиков. Для этого издатель проходит по списку подписчиков и вызывает их метод оповещения, заданный в общем интерфейсе подписчиков.
###### Подписчик определяет интерфейс, которым пользуется издатель для отправки оповещения. В большинстве случаев для этого достаточно единственного метода.
###### Конкретные подписчики выполняют что-то в ответ на оповещение, пришедшее от издателя. Эти классы должны следовать общему интерфейсу подписчиков, чтобы издатель не зависел от конкретных классов подписчиков.
###### По приходу оповещения подписчику нужно получить обновлённое состояние издателя. Издатель может передать это состояние через параметры метода оповещения. Более гибкий вариант — передавать через параметры весь объект издателя, чтобы подписчик мог сам получить требуемые данные. Как вариант, подписчик может постоянно хранить ссылку на объект издателя, переданный ему в конструкторе.
###### Клиент создаёт объекты издателей и подписчиков, а затем регистрирует подписчиков на обновления в издателях.
#### Псевдокод
![](https://refactoring.guru/images/patterns/diagrams/observer/example.png)

В этом примере Наблюдатель позволяет объекту текстового редактора оповещать другие объекты об изменениях своего состояния.

#### Преимущества:
 Издатели не зависят от конкретных классов подписчиков и наоборот.
 
 Вы можете подписывать и отписывать получателей на лету.
 
 Реализует принцип открытости/закрытости.
 #### Недостатки:
 Подписчики оповещаются в случайном порядке.


